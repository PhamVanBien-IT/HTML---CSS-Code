<!DOCTYPE html>
<html>
    <head>
        <title>De 4</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="./Phamvanbien_2019607190.css">
    </head>
    <body>
        <header>
            <p>BÀI KIỂM TRA SỐ 2</p>
        </header>
        <div class="content">
            <nav>
                <ul>
                    <li><a href="">Lập trình Java</a></li>
                
                    <li class="cha"><a href="">Thiết kế Web
                        <ul class="con">
                            <li><a href="">Tài liệu HTML</a></li>
                            <li><a href="">Tài liệu CSS</a></li>
                            <li><a href="">Tài liệu JavaScript</a></li>
                        </ul>
                    </a></li>
                    <li><a href="">Lập trình C#</a></li>
                    <li><a href="">Lập trình Web</a></li>
                    <li><a href="">Lập trình hướng đối tượng</a></li>
                    <li><a href="">Cơ sở dữ liệu</a></li>
                </ul>
            </nav>
            <div class="content-1">
                <ul>
                    <li><a href=""><img src="./1ad881724e58689de62d2d10c8700e87.jpg" alt="" class="img">
                        <p>Chaus ngoan Bac Ho</p>
                        <p><del>180000</del></p></a>
                    </li>
                    <li><a href=""><img src="./1ad881724e58689de62d2d10c8700e87.jpg" alt="" class="img">
                        <p>Chaus ngoan Bac Ho</p>
                        <p><del>180000</del></p></li></a>
                    <li><a href=""><img src="./1ad881724e58689de62d2d10c8700e87.jpg" alt="" class="img">
                        <p>Chaus ngoan Bac Ho</p>
                        <p><del>180000</del></p></li></a>
                    <li><a href=""><img src="./1ad881724e58689de62d2d10c8700e87.jpg" alt="" class="img">
                        <p>Chaus ngoan Bac Ho</p>
                        <p><del>180000</del></p></li></a>
                </ul>
            </div>
        </div>
        <section>
            <div class="Bang">
                <br>
                <P>DANH SÁCH HOÀN HẢO</P><br>
                <p>Số nguyên n : <input type="text" name="nhap" id="info" placeholder="Nhập số n" pattern="[0-9]"></p><br>
                <p>Hoàn hảo <= n : <input type="text" id="result"></p> <br>
                <button type="button" onclick="isPerfectNumber(n)" id="count">Tính</button>
            </div>
        </section>
        <footer>
             <P>BẢN QUYỀN THUỘC VỀ TEST2</P>
        </footer>

        <script>
                 function isPerfectNumber(n) {
                let sum = 0;
                for(let i = 0; i < n; i++) {
                    if( n % i == 0) {
                        sum += i;
                    }
                }
                return n == sum;
            }


            const btn = document.querySelector('#count') 
            const result = document.querySelector('#result') 

            btn.addEventListener('click', () => {

                let arr = [];
                let n = +document.querySelector('#info').value; 
                console.log(n);
                if( Number.isInteger(n) ) {
                    
                    for(let i = 1 ; i <= n ; i++) {

                        if( isPerfectNumber(i) ) {
                            arr.push(i);
                        }

                    }

                }
                
                if ( arr.length == 0 ) {
                    
                    document.getElementById("result").value = "Không có số hoàn hảo"
                }
                else {
                   
                    document.getElementById("result").value = arr;
                }

            });
        </script>
    </body>
</html>